<?xml version="1.0" encoding="utf-8" ?>
<Sqls>

  <Sql>
    <key>GetMaxId</key>
    <query>
      SELECT NVL(MAX(RRCCODI), 0) + 1 FROM RNT_REG_RECHAZO_CARGA
    </query>
  </Sql>

  <Sql>
    <key>Save</key>
    <query>
      INSERT
      INTO
      RNT_REG_RECHAZO_CARGA
      (
      RRCGRUPOENVIO,
      ENVIOCODI,
      RRCCODI,
      RRCEMPGEN,
      RRCCLIENTE,
      AREACODI,
      PERDCODI,
      RRCNIVELTENSION,
      EVENCODI,
      RRCFECHAINICIO,
      RRCFECHAFIN,
      RRCSUBESTACIONDSTRB,
      RRCNIVELTENSIONSED,
      RRCCODIALIMENTADOR,
      RRCENERGIAENS,
      RRCNRCF,
      RRCEF,
      RRCCOMPENSACION,
      RRCESTADO,
      RRCUSUARIOCREACION,
      RRCFECHACREACION,
      RRCPK,
      RRCCOMPENSABLE,
      RRCENSFK,
      RRCEVENCODIDESC,
      BARRCODI
      )
      VALUES
      (
      :RRCGRUPOENVIO,
      :ENVIOCODI,
      :RRCCODI,
      :RRCEMPGEN,
      :RRCCLIENTE,
      :AREACODI,
      :PERDCODI,
      :RRCNIVELTENSION,
      :EVENCODI,
      :RRCFECHAINICIO,
      :RRCFECHAFIN,
      :RRCSUBESTACIONDSTRB,
      :RRCNIVELTENSIONSED,
      :RRCCODIALIMENTADOR,
      :RRCENERGIAENS,
      :RRCNRCF,
      :RRCEF,
      :RRCCOMPENSACION,
      :RRCESTADO,
      :RRCUSUARIOCREACION,
      sysdate,
      :RRCPK,
      :RRCCOMPENSABLE,
      :RRCENSFK,
      :RRCEVENCODIDESC,
      :BARRCODI
      )
    </query>
  </Sql>

  <Sql>
    <key>Update</key>
    <query>
      UPDATE RNT_REG_RECHAZO_CARGA
      SET
      RRCESTADO = :RRCESTADO
      WHERE
      RRCEMPGEN = :RRCEMPGEN AND
      PERDCODI = :PERDCODI
    </query>
  </Sql>

  <Sql>
    <key>UpdateNRCF</key>
    <query>
      UPDATE RNT_REG_RECHAZO_CARGA
      SET
      RRCNRCF=:RRCNRCF,
      RRCUSUARIOUPDATE=:RRCUSUARIOUPDATE,
      RRCFECHAUPDATE=:RRCFECHAUPDATE
      WHERE
      RRCEMPGEN=:RRCEMPGEN AND PERDCODI=:PERDCODI AND RRCCLIENTE=:RRCCLIENTE AND AREACODI=:AREACODI AND
      RRCNIVELTENSION=:RRCNIVELTENSION AND RRCNIVELTENSIONSED=:RRCNIVELTENSIONSED AND
      RRCSUBESTACIONDSTRB=:RRCSUBESTACIONDSTRB AND RRCCODIALIMENTADOR=:RRCCODIALIMENTADOR
    </query>
  </Sql>
  <Sql>
    <key>UpdateEF</key>
    <query>
      UPDATE RNT_REG_RECHAZO_CARGA
      SET
      RRCEF=:RRCEF,
      RRCCOMPENSACION=:RRCCOMPENSACION,
      RRCUSUARIOUPDATE=:RRCUSUARIOUPDATE,
      RRCFECHAUPDATE=:RRCFECHAUPDATE
      WHERE
      RRCCODI=:RRCCODI
    </query>
  </Sql>

  <Sql>
    <key>Delete</key>
    <query>
      UPDATE RNT_REG_RECHAZO_CARGA SET RRCESTADO=2 WHERE RRCCODI = :RRCCODI
    </query>
  </Sql>

  <Sql>
    <key>GetById</key>
    <query>
      SELECT
      (SELECT BARRNOMBRE FROM TRN_BARRA TRN WHERE TRN.BARRCODI=RRC.BARRCODI ) AS BARRNOMBRE,
      RRC.RRCGRUPOENVIO,
      ENVIOCODI,
      RRC.RRCPK,
      RRC.RRCCOMPENSABLE,
      RRC.RRCENSFK,
      RRC.RRCEVENCODIDESC,
      RRC.RRCNIVELTENSION,
      RRC.RRCFECHAINICIO,
      RRC.RRCFECHAFIN,
      RRC.RRCSUBESTACIONDSTRB,
      RRC.RRCNIVELTENSIONSED,
      RRC.RRCCODIALIMENTADOR,
      RRC.RRCENERGIAENS,
      RRC.RRCNRCF,
      RRC.RRCEF,
      RRC.RRCCOMPENSACION,
      RRC.RRCESTADO,
      RRC.RRCUSUARIOCREACION,
      RRC.RRCFECHACREACION,
      RRC.RRCUSUARIOUPDATE,
      RRC.RRCFECHAUPDATE,
      RRC.RRCCODI,
      RRC.AREACODI,
      (SELECT AREANOMB FROM EQ_AREA WHERE RRC.AREACODI=AREACODI ) AS AREANOMB,
      RRC.PERDCODI,
      RRC.EVENCODI,
      RRC.RRCEMPGEN,
      (SELECT EMPRNOMB FROM SI_EMPRESA WHERE RRC.RRCEMPGEN=EMPRCODI) AS RRCEMPRGENNOMBRE,
      RRC.RRCCLIENTE,
      (SELECT EMPRNOMB FROM SI_EMPRESA WHERE RRC.RRCCLIENTE=EMPRCODI ) AS RRCCLIENTENOMBRE
      FROM
      RNT_REG_RECHAZO_CARGA RRC
      WHERE
      RRC.RRCCODI = :RRCCODI
    </query>
  </Sql>

  <Sql>
    <key>ListPaginado</key>
    <query>
      SELECT * FROM(
      SELECT
      RRC.BARRCODI,
      (SELECT BARRNOMBRE FROM TRN_BARRA TRN WHERE TRN.BARRCODI=RRC.BARRCODI ) AS BARRNOMBRE,
      RRC.RRCGRUPOENVIO,
      ENVIOCODI,
      RRC.RRCPK,
      RRC.RRCCOMPENSABLE,
      RRC.RRCENSFK,
      RRC.RRCEVENCODIDESC,
      RRC.RRCNIVELTENSION,
      RRC.RRCFECHAINICIO,
      RRC.RRCFECHAFIN,
      RRC.RRCSUBESTACIONDSTRB,
      RRC.RRCNIVELTENSIONSED,
      RRC.RRCCODIALIMENTADOR,
      RRC.RRCENERGIAENS,
      RRC.RRCNRCF,
      RRC.RRCEF,
      RRC.RRCCOMPENSACION,
      RRC.RRCESTADO,
      RRC.RRCUSUARIOCREACION,
      RRC.RRCFECHACREACION,
      RRC.RRCUSUARIOUPDATE,
      RRC.RRCFECHAUPDATE,
      RRC.RRCCODI,
      RRC.AREACODI,
      (SELECT AREANOMB FROM EQ_AREA WHERE RRC.AREACODI=AREACODI ) AS AREANOMB,
      RRC.PERDCODI,
      RRC.EVENCODI,
      RRC.RRCEMPGEN,
      (SELECT EMPRNOMB FROM SI_EMPRESA WHERE RRC.RRCEMPGEN=EMPRCODI) AS RRCEMPRGENNOMBRE,
      RRC.RRCCLIENTE,
      (SELECT EMPRNOMB FROM SI_EMPRESA WHERE RRC.RRCCLIENTE=EMPRCODI ) AS RRCCLIENTENOMBRE,
      (row_number() over (order by RRC.RRCCODI desc)) as r
      FROM
      RNT_REG_RECHAZO_CARGA RRC
      INNER JOIN RNT_PERIODO PER ON PER.PERDCODI=RRC.PERDCODI
      WHERE PER.PERDESTADO NOT IN('1','2') AND
      RRC.RRCESTADO NOT IN (1,2) AND
      RRC.RRCEMPGEN = DECODE(:Rrcempresageneradora,0, RRC.RRCEMPGEN,:Rrcempresageneradora) AND
      RRC.PERDCODI = DECODE(:Periodocodi, 0,RRC.PERDCODI,:Periodocodi) AND
      RRC.RRCCLIENTE = DECODE(:RRCCLIENTE, 0,RRC.RRCCLIENTE,:RRCCLIENTE) AND
      RRC.BARRCODI = DECODE(:BARRCODI, 0,RRC.BARRCODI,:BARRCODI)
      ORDER BY RRCEMPRGENNOMBRE,RRCCLIENTENOMBRE,AREANOMB,RRC.RRCNIVELTENSION,RRC.RRCCODIALIMENTADOR,RRC.RRCSUBESTACIONDSTRB,RRC.RRCNIVELTENSIONSED,RRC.RRCFECHAINICIO ASC
      )
      where r >= (((:PageNumber-1) * :PageSize) + 1) and r &lt; ((:PageNumber * :PageSize) + 1 )
    </query>
  </Sql>

  <Sql>
    <key>List</key>
    <query>
      SELECT
      RRC.BARRCODI,
      (SELECT BARRNOMBRE FROM TRN_BARRA TRN WHERE TRN.BARRCODI=RRC.BARRCODI ) AS BARRNOMBRE,
      RRC.RRCGRUPOENVIO,
      ENVIOCODI,
      RRC.RRCPK,
      RRC.RRCCOMPENSABLE,
      RRC.RRCENSFK,
      RRC.RRCEVENCODIDESC,
      RRC.RRCNIVELTENSION,
      RRC.RRCFECHAINICIO,
      RRC.RRCFECHAFIN,
      RRC.RRCSUBESTACIONDSTRB,
      RRC.RRCNIVELTENSIONSED,
      RRC.RRCCODIALIMENTADOR,
      RRC.RRCENERGIAENS,
      RRC.RRCNRCF,
      RRC.RRCEF,
      RRC.RRCCOMPENSACION,
      RRC.RRCESTADO,
      RRC.RRCUSUARIOCREACION,
      RRC.RRCFECHACREACION,
      RRC.RRCUSUARIOUPDATE,
      RRC.RRCFECHAUPDATE,
      RRC.RRCCODI,
      RRC.RRCGRUPOENVIO AS AREACODI,
      (SELECT AREANOMB FROM EQ_AREA WHERE RRC.AREACODI=AREACODI ) AS AREANOMB,
      RRC.PERDCODI,
      RRC.EVENCODI,
      RRC.RRCEMPGEN,
      (SELECT EMPRNOMB FROM SI_EMPRESA WHERE RRC.RRCEMPGEN=EMPRCODI) AS RRCEMPRGENNOMBRE,
      RRC.RRCCLIENTE,
      (SELECT EMPRNOMB FROM SI_EMPRESA WHERE RRC.RRCCLIENTE=EMPRCODI ) AS RRCCLIENTENOMBRE
      FROM
      RNT_REG_RECHAZO_CARGA RRC
      INNER JOIN RNT_PERIODO PER ON PER.PERDCODI=RRC.PERDCODI
      WHERE PER.PERDESTADO NOT IN('1','2') AND
      RRC.RRCESTADO NOT IN (1,2) AND
      RRC.RRCEMPGEN = DECODE(:RRCEMPGEN, 0,RRC.RRCEMPGEN,:RRCEMPGEN) AND
      RRC.PERDCODI = DECODE(:PERDCODI, 0,RRC.PERDCODI,:PERDCODI) AND
      RRC.RRCCLIENTE = DECODE(:RRCCLIENTE, 0,RRC.RRCCLIENTE,:RRCCLIENTE) AND
      RRC.BARRCODI = DECODE(:BARRCODI, 0,RRC.BARRCODI,:BARCODI)
      ORDER BY RRCEMPRGENNOMBRE,RRCCLIENTENOMBRE,AREANOMB,RRC.RRCNIVELTENSION,RRC.RRCCODIALIMENTADOR,RRC.RRCSUBESTACIONDSTRB,RRC.RRCNIVELTENSIONSED,RRC.RRCFECHAINICIO ASC
    </query>
  </Sql>

  <Sql>
    <key>ListReporteGrilla</key>
    <query>
      SELECT
      RRC.BARRCODI,
      RRC.RRCGRUPOENVIO,
      ENVIOCODI,
      RRC.RRCPK,
      RRC.RRCCOMPENSABLE,
      RRC.RRCENSFK,
      RRC.RRCEVENCODIDESC,
      RRC.RRCNIVELTENSION,
      RRC.RRCFECHAINICIO,
      RRC.RRCFECHAFIN,
      RRC.RRCSUBESTACIONDSTRB,
      RRC.RRCNIVELTENSIONSED,
      RRC.RRCCODIALIMENTADOR,
      RRC.RRCENERGIAENS,
      RRC.RRCNRCF,
      RRC.RRCEF,
      RRC.RRCCOMPENSACION,
      RRC.RRCESTADO,
      RRC.RRCUSUARIOCREACION,
      RRC.RRCFECHACREACION,
      RRC.RRCUSUARIOUPDATE,
      RRC.RRCFECHAUPDATE,
      RRC.RRCCODI,
      RRC.AREACODI,
      (SELECT AREANOMB FROM EQ_AREA WHERE RRC.AREACODI=AREACODI ) AS AREANOMB,
      RRC.PERDCODI,
      RRC.EVENCODI,
      RRC.RRCEMPGEN,
      (SELECT EMPRNOMB FROM SI_EMPRESA WHERE RRC.RRCEMPGEN=EMPRCODI) AS RRCEMPRGENNOMBRE,
      RRC.RRCCLIENTE,
      (SELECT EMPRNOMB FROM SI_EMPRESA WHERE RRC.RRCCLIENTE=EMPRCODI ) AS RRCCLIENTENOMBRE,
      (SELECT BARRNOMBRE FROM TRN_BARRA TRN WHERE TRN.BARRCODI=RRC.BARRCODI ) AS BARRNOMBRE
      FROM
      RNT_REG_RECHAZO_CARGA RRC
      INNER JOIN RNT_PERIODO PER ON PER.PERDCODI=RRC.PERDCODI
      WHERE
      ENVIOCODI = :ENVIOCODI
      ORDER BY RRCGRUPOENVIO, RRC.RRCFECHAINICIO
    </query>
  </Sql>


  <Sql>
    <key>ListReportePaginado</key>
    <query>
      SELECT * FROM(
      SELECT
      RRC.BARRCODI,
      (SELECT BARRNOMBRE FROM TRN_BARRA TRN WHERE TRN.BARRCODI=RRC.BARRCODI ) AS BARRNOMBRE,
      RRC.RRCGRUPOENVIO,
      ENVIOCODI,
      RRC.RRCPK,
      RRC.RRCCOMPENSABLE,
      RRC.RRCENSFK,
      RRC.RRCEVENCODIDESC,
      RRC.RRCNIVELTENSION,
      RRC.RRCFECHAINICIO,
      RRC.RRCFECHAFIN,
      RRC.RRCSUBESTACIONDSTRB,
      RRC.RRCNIVELTENSIONSED,
      RRC.RRCCODIALIMENTADOR,
      RRC.RRCENERGIAENS,
      RRC.RRCNRCF,
      RRC.RRCEF,
      RRC.RRCCOMPENSACION,
      RRC.RRCESTADO,
      RRC.RRCUSUARIOCREACION,
      RRC.RRCFECHACREACION,
      RRC.RRCUSUARIOUPDATE,
      RRC.RRCFECHAUPDATE,
      RRC.RRCCODI,
      RRC.RRCGRUPOENVIO AS AREACODI,
      (SELECT AREANOMB FROM EQ_AREA WHERE RRC.AREACODI=AREACODI ) AS AREANOMB,
      RRC.PERDCODI,
      RRC.EVENCODI,
      RRC.RRCEMPGEN,
      (SELECT EMPRNOMB FROM SI_EMPRESA WHERE RRC.RRCEMPGEN=EMPRCODI) AS RRCEMPRGENNOMBRE,
      RRC.RRCCLIENTE,
      (SELECT EMPRNOMB FROM SI_EMPRESA WHERE RRC.RRCCLIENTE=EMPRCODI ) AS RRCCLIENTENOMBRE,
      (row_number() over (order by RRC.RRCSUBESTACIONDSTRB, RRC.RRCCODI desc)) as r
      FROM
      RNT_REG_RECHAZO_CARGA RRC
      WHERE
      RRC.RRCEMPGEN = DECODE(:RRCEMPGEN, 0,RRC.RRCEMPGEN,:RRCEMPGEN) AND
      RRC.RRCESTADO NOT IN (1,2) AND
      RRC.PERDCODI = DECODE(:PERDCODI, 0,RRC.PERDCODI,:PERDCODI) AND
      RRC.RRCCLIENTE = DECODE(:RRCCLIENTE, 0,RRC.RRCCLIENTE,:RRCCLIENTE) AND
      RRC.BARRCODI = DECODE(:BARRCODI, 0,RRC.BARRCODI,:BARRCODI)
      ORDER BY RRC.RRCSUBESTACIONDSTRB ASC
      )
      where r >= (((:PageNumber-1) * :PageSize) + 1) and r &lt; ((:PageNumber * :PageSize) + 1 )
      ORDER BY RRCSUBESTACIONDSTRB ASC
    </query>
  </Sql>

  <Sql>
    <key>ListReporte</key>
    <query>
      SELECT
      RRC.BARRCODI,
      (SELECT BARRNOMBRE FROM TRN_BARRA TRN WHERE TRN.BARRCODI=RRC.BARRCODI ) AS BARRNOMBRE,
      RRC.RRCGRUPOENVIO,
      ENVIOCODI,
      RRC.RRCPK,
      RRC.RRCCOMPENSABLE,
      RRC.RRCENSFK,
      RRC.RRCEVENCODIDESC,
      RRC.RRCNIVELTENSION,
      RRC.RRCFECHAINICIO,
      RRC.RRCFECHAFIN,
      RRC.RRCSUBESTACIONDSTRB,
      RRC.RRCNIVELTENSIONSED,
      RRC.RRCCODIALIMENTADOR,
      RRC.RRCENERGIAENS,
      RRC.RRCNRCF,
      RRC.RRCEF,
      RRC.RRCCOMPENSACION,
      RRC.RRCESTADO,
      RRC.RRCUSUARIOCREACION,
      RRC.RRCFECHACREACION,
      RRC.RRCUSUARIOUPDATE,
      RRC.RRCFECHAUPDATE,
      RRC.RRCCODI,
      RRC.RRCGRUPOENVIO AS AREACODI,
      (SELECT AREANOMB FROM EQ_AREA WHERE RRC.AREACODI=AREACODI ) AS AREANOMB,
      RRC.PERDCODI,
      RRC.EVENCODI,
      RRC.RRCEMPGEN,
      (SELECT EMPRNOMB FROM SI_EMPRESA WHERE RRC.RRCEMPGEN=EMPRCODI) AS RRCEMPRGENNOMBRE,
      RRC.RRCCLIENTE,
      (SELECT EMPRNOMB FROM SI_EMPRESA WHERE RRC.RRCCLIENTE=EMPRCODI ) AS RRCCLIENTENOMBRE
      FROM
      RNT_REG_RECHAZO_CARGA RRC
      WHERE RRC.RRCEMPGEN = DECODE(:RRCEMPGEN, 0,RRC.RRCEMPGEN,:RRCEMPGEN) AND
      RRC.RRCESTADO NOT IN (1,2) AND
      RRC.PERDCODI = DECODE(:PERDCODI, 0,RRC.PERDCODI,:PERDCODI) AND
      RRC.RRCCLIENTE = DECODE(:RRCCLIENTE, 0,RRC.RRCCLIENTE,:RRCCLIENTE) AND
      RRC.BARRCODI = DECODE(:BARRCODI, 0,RRC.BARRCODI,:BARRCODI)
      ORDER BY RRC.RRCSUBESTACIONDSTRB  ASC
    </query>
  </Sql>

  <Sql>
    <key>GetByCriteriaPaginado</key>
    <query>
      SELECT * FROM(
      SELECT
      RRC.BARRCODI,
      (SELECT BARRNOMBRE FROM TRN_BARRA TRN WHERE TRN.BARRCODI=RRC.BARRCODI ) AS BARRNOMBRE,
      RRC.RRCGRUPOENVIO,
      ENVIOCODI,
      RRC.RRCPK,
      RRC.RRCCOMPENSABLE,
      RRC.RRCENSFK,
      RRC.RRCEVENCODIDESC,
      RRC.RRCNIVELTENSION,
      RRC.RRCFECHAINICIO,
      RRC.RRCFECHAFIN,
      RRC.RRCSUBESTACIONDSTRB,
      RRC.RRCNIVELTENSIONSED,
      RRC.RRCCODIALIMENTADOR,
      RRC.RRCENERGIAENS,
      RRC.RRCNRCF,
      RRC.RRCEF,
      RRC.RRCCOMPENSACION,
      RRC.RRCESTADO,
      RRC.RRCUSUARIOCREACION,
      RRC.RRCFECHACREACION,
      RRC.RRCUSUARIOUPDATE,
      RRC.RRCFECHAUPDATE,
      RRC.RRCCODI,
      RRC.AREACODI,
      (SELECT AREANOMB FROM EQ_AREA WHERE RRC.AREACODI=AREACODI ) AS AREANOMB,
      RRC.PERDCODI,
      RRC.EVENCODI,
      RRC.RRCEMPGEN,
      (SELECT EMPRNOMB FROM SI_EMPRESA WHERE RRC.RRCEMPGEN=EMPRCODI) AS RRCEMPRGENNOMBRE,
      RRC.RRCCLIENTE,
      (SELECT EMPRNOMB FROM SI_EMPRESA WHERE RRC.RRCCLIENTE=EMPRCODI ) AS RRCCLIENTENOMBRE,
      (row_number() over (order by RRC.RRCCODI desc)) as r
      FROM
      RNT_REG_RECHAZO_CARGA RRC
      WHERE RRC.RRCUSUARIOCREACION = DECODE(:RRCUSUARIOCREACION, '0',RRC.RRCUSUARIOCREACION,:RRCUSUARIOCREACION) AND RRC.RRCEMPGEN = DECODE(:RRCEMPGEN, 0,RRC.RRCEMPGEN,:RRCEMPGEN) AND RRC.PERDCODI = DECODE(:PERDCODI, 0,RRC.PERDCODI,:PERDCODI) AND RRC.RRCCLIENTE = DECODE(:RRCCLIENTE, 0,RRC.RRCCLIENTE,:RRCCLIENTE) AND RRC.AREACODI = DECODE(:AREACODI, 0,RRC.AREACODI,:AREACODI) AND RRC.RRCNIVELTENSION = DECODE(:RRCNIVELTENSION, 0,RRC.RRCNIVELTENSION,:RRCNIVELTENSION) AND RRC.RRCFECHAINICIO>=:RRCFECHAINICIO
      ORDER BY RRC.RRCCODI ASC
      )
      where r >= (((:PageNumber-1) * :PageSize) + 1) and r &lt; ((:PageNumber * :PageSize) + 1 )
    </query>
  </Sql>
  <Sql>
    <key>GetByCriteria</key>
    <query>
      SELECT
      RRC.BARRCODI,
      (SELECT BARRNOMBRE FROM TRN_BARRA TRN WHERE TRN.BARRCODI=RRC.BARRCODI ) AS BARRNOMBRE,
      RRC.RRCGRUPOENVIO,
      ENVIOCODI,
      RRC.RRCPK,
      RRC.RRCCOMPENSABLE,
      RRC.RRCENSFK,
      RRC.RRCNIVELTENSION,
      RRC.RRCFECHAINICIO,
      RRC.RRCFECHAFIN,
      RRC.RRCSUBESTACIONDSTRB,
      RRC.RRCNIVELTENSIONSED,
      RRC.RRCCODIALIMENTADOR,
      RRC.RRCENERGIAENS,
      RRC.RRCNRCF,
      RRC.RRCEF,
      RRC.RRCCOMPENSACION,
      RRC.RRCESTADO,
      RRC.RRCUSUARIOCREACION,
      RRC.RRCFECHACREACION,
      RRC.RRCUSUARIOUPDATE,
      RRC.RRCFECHAUPDATE,
      RRC.RRCCODI,
      RRC.AREACODI,
      (SELECT AREANOMB FROM EQ_AREA WHERE RRC.AREACODI=AREACODI ) AS AREANOMB,
      RRC.PERDCODI,
      RRC.EVENCODI,
      RRC.RRCEMPGEN,
      (SELECT EMPRNOMB FROM SI_EMPRESA WHERE RRC.RRCEMPGEN=EMPRCODI) AS RRCEMPRGENNOMBRE,
      RRC.RRCCLIENTE,
      (SELECT EMPRNOMB FROM SI_EMPRESA WHERE RRC.RRCCLIENTE=EMPRCODI ) AS RRCCLIENTENOMBRE
      FROM
      RNT_REG_RECHAZO_CARGA RRC
      WHERE RRC.RRCUSUARIOCREACION LIKE DECODE(:RRCUSUARIOCREACION, '0','%',:RRCUSUARIOCREACION) AND RRC.RRCEMPGEN LIKE DECODE(:RRCEMPGEN, 0,'%',:RRCEMPGEN) AND RRC.PERDCODI LIKE DECODE(:PERDCODI, 0,'%',:PERDCODI) AND RRC.RRCCLIENTE LIKE DECODE(:RRCCLIENTE, 0,'%',:RRCCLIENTE) AND RRC.AREACODI LIKE DECODE(:AREACODI, 0,'%',:AREACODI) AND RRC.RRCNIVELTENSION LIKE DECODE(:RRCNIVELTENSION, 0,'%',:RRCNIVELTENSION) AND RRC.RRCFECHAINICIO>=:RRCFECHAINICIO
      ORDER BY RRC.RRCCODI ASC
    </query>
  </Sql>
  <Sql>
    <key>ListAuditoriaRechazoCarga</key>
    <query>
      SELECT
      RRC.BARRCODI,
      (SELECT BARRNOMBRE FROM TRN_BARRA TRN WHERE TRN.BARRCODI=RRC.BARRCODI ) AS BARRNOMBRE,
      XMLTYPE(AUDITREGDET).EXTRACT('//Auditoria/RRCCODI/text()').GETSTRINGVAL() AS RRCCODI,
      XMLTYPE(AUDITREGDET).EXTRACT('//Auditoria/RRCEMPGEN/text()').GETSTRINGVAL() AS RRCEMPGEN,
      (SELECT EMPRNOMB FROM SI_EMPRESA WHERE EMPRCODI=XMLTYPE(AUDITREGDET).EXTRACT('//Auditoria/RPEEMPGEN/text()').GETSTRINGVAL()) AS RRCEMPRGENNOMBRE,
      XMLTYPE(AUDITREGDET).EXTRACT('//Auditoria/RRCCLIENTE/text()').GETSTRINGVAL() AS RRCCLIENTE,
      (SELECT EMPRNOMB FROM SI_EMPRESA WHERE EMPRCODI=XMLTYPE(AUDITREGDET).EXTRACT('//Auditoria/RRCCLIENTE/text()').GETSTRINGVAL()) AS RRCCLIENTENOMBRE,
      XMLTYPE(AUDITREGDET).EXTRACT('//Auditoria/AREACODI/text()').GETSTRINGVAL() AS AREACODI,
      (SELECT AREANOMB FROM EQ_AREA WHERE AREACODI=XMLTYPE(AUDITREGDET).EXTRACT('//Auditoria/AREACODI/text()').GETSTRINGVAL() ) AS AREANOMB,
      XMLTYPE(AUDITREGDET).EXTRACT('//Auditoria/PERDCODI/text()').GETSTRINGVAL() AS PERDCODI,
      XMLTYPE(AUDITREGDET).EXTRACT('//Auditoria/EVENCODI/text()').GETSTRINGVAL() AS EVENCODI,
      XMLTYPE(AUDITREGDET).EXTRACT('//Auditoria/RRCNIVELTENSION/text()').GETSTRINGVAL() AS RRCNIVELTENSION,
      XMLTYPE(AUDITREGDET).EXTRACT('//Auditoria/RRCFECHAINICIO/text()').GETSTRINGVAL() AS RRCFECHAINICIO,
      XMLTYPE(AUDITREGDET).EXTRACT('//Auditoria/RRCFECHAFIN/text()').GETSTRINGVAL() AS RRCFECHAFIN,
      XMLTYPE(AUDITREGDET).EXTRACT('//Auditoria/RRCSUBESTACIONDSTRB/text()').GETSTRINGVAL() AS RRCSUBESTACIONDSTRB,
      XMLTYPE(AUDITREGDET).EXTRACT('//Auditoria/RRCNIVELTENSIONSED/text()').GETSTRINGVAL() AS RRCNIVELTENSIONSED,
      XMLTYPE(AUDITREGDET).EXTRACT('//Auditoria/RRCCODIALIMENTADOR/text()').GETSTRINGVAL() AS RRCCODIALIMENTADOR,
      XMLTYPE(AUDITREGDET).EXTRACT('//Auditoria/RRCENERGIAENS/text()').GETSTRINGVAL() AS RRCENERGIAENS,
      XMLTYPE(AUDITREGDET).EXTRACT('//Auditoria/RRCNRCF/text()').GETSTRINGVAL() AS RRCNRCF,
      XMLTYPE(AUDITREGDET).EXTRACT('//Auditoria/RRCEF/text()').GETSTRINGVAL() AS RRCEF,
      XMLTYPE(AUDITREGDET).EXTRACT('//Auditoria/RRCCOMPENSACION/text()').GETSTRINGVAL() AS RRCCOMPENSACION,
      XMLTYPE(AUDITREGDET).EXTRACT('//Auditoria/RRCESTADO/text()').GETSTRINGVAL() AS RRCESTADO,
      AUDITUSUARIOCREACION AS RRCUSUARIOCREACION,
      AUDITFECHACREACION AS RRCFECHACREACION,
      XMLTYPE(AUDITREGDET).EXTRACT('//Auditoria/ACCION/text()').GETSTRINGVAL() AS RRCUSUARIOUPDATE,
      AUDITFECHAUPDATE AS RRCFECHAUPDATE
      FROM SI_AUDITORIA_REGISTRO WHERE AUDITTABLACODI=:AUDITTABLACODI AND TAUDITCODI=:TAUDITCODI ORDER BY AUDITFECHACREACION ASC
    </query>
  </Sql>

  <Sql>
    <key>ListAllRechazoCarga</key>
    <query>
      select DISTINCT RN.BARRCODI, TB.BARRNOMBRE from
      RNT_REG_RECHAZO_CARGA rn , TRN_BARRA tb
      where
      RN.BARRCODI = TB.BARRCODI
    </query>
  </Sql>

  <Sql>
    <key>ListAllClienteRC</key>
    <query>
      select DISTINCT RC.RRCCLIENTE, SI.EMPRNOMB as RRCCLIENTENOMBRE from RNT_REG_RECHAZO_CARGA RC, SI_EMPRESA si where
      RC.RRCCLIENTE = SI.EMPRCODI
    </query>
  </Sql>

  <Sql>
    <key>ListChangeClienteRC</key>
    <query>
      select DISTINCT RC.BARRCODI, TB.BARRNOMBRE from
      RNT_REG_RECHAZO_CARGA RC, TRN_BARRA tb
      where
      RC.BARRCODI = TB.BARRCODI and
      RC.RRCCLIENTE = decode({0}, 0, RC.RRCCLIENTE, {0})
    </query>
  </Sql>

</Sqls>
