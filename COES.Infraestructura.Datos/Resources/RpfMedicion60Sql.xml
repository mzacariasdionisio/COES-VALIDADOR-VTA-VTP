<?xml version="1.0" encoding="utf-8" ?>
<Sqls>

  <Sql>
    <key>GetMaxId</key>
    <query>
       select nvl(max(rpfmedcodi), 0) + 1 from rpf_medicion60
    </query>
  </Sql>

  <Sql>
    <key>Save</key>
    <query>
       insert into rpf_medicion60(
           rpfmedcodi,
           grupocodi,
           equicodi,
           cotidacodi,
           rpfenvcodi,
           rpfmedfecha,
           h1,
           h2,
           h3,
           h4,
           h5,
           h6,
           h7,
           h8,
           h9,
           h10,
           h11,
           h12,
           h13,
           h14,
           h15,
           h16,
           h17,
           h18,
           h19,
           h20,
           h21,
           h22,
           h23,
           h24,
           h25,
           h26,
           h27,
           h28,
           h29,
           h30,
           h31,
           h32,
           h33,
           h34,
           h35,
           h36,
           h37,
           h38,
           h39,
           h40,
           h41,
           h42,
           h43,
           h44,
           h45,
           h46,
           h47,
           h48,
           h49,
           h50,
           h51,
           h52,
           h53,
           h54,
           h55,
           h56,
           h57,
           h58,
           h59,
           h60
       )
       values(
           :rpfmedcodi,
           :grupocodi,
           :equicodi,
           :cotidacodi,
           :rpfenvcodi,
           :rpfmedfecha,
           :h1,
           :h2,
           :h3,
           :h4,
           :h5,
           :h6,
           :h7,
           :h8,
           :h9,
           :h10,
           :h11,
           :h12,
           :h13,
           :h14,
           :h15,
           :h16,
           :h17,
           :h18,
           :h19,
           :h20,
           :h21,
           :h22,
           :h23,
           :h24,
           :h25,
           :h26,
           :h27,
           :h28,
           :h29,
           :h30,
           :h31,
           :h32,
           :h33,
           :h34,
           :h35,
           :h36,
           :h37,
           :h38,
           :h39,
           :h40,
           :h41,
           :h42,
           :h43,
           :h44,
           :h45,
           :h46,
           :h47,
           :h48,
           :h49,
           :h50,
           :h51,
           :h52,
           :h53,
           :h54,
           :h55,
           :h56,
           :h57,
           :h58,
           :h59,
           :h60
       )
    </query>
  </Sql>

  <Sql>
    <key>Update</key>
    <query>
       update rpf_medicion60
       set
           grupocodi = :grupocodi,
           equicodi = :equicodi,
           cotidacodi = :cotidacodi,
           rpfenvcodi = :rpfenvcodi,
           rpfmedfecha = :rpfmedfecha,
           h1 = :h1,
           h2 = :h2,
           h3 = :h3,
           h4 = :h4,
           h5 = :h5,
           h6 = :h6,
           h7 = :h7,
           h8 = :h8,
           h9 = :h9,
           h10 = :h10,
           h11 = :h11,
           h12 = :h12,
           h13 = :h13,
           h14 = :h14,
           h15 = :h15,
           h16 = :h16,
           h17 = :h17,
           h18 = :h18,
           h19 = :h19,
           h20 = :h20,
           h21 = :h21,
           h22 = :h22,
           h23 = :h23,
           h24 = :h24,
           h25 = :h25,
           h26 = :h26,
           h27 = :h27,
           h28 = :h28,
           h29 = :h29,
           h30 = :h30,
           h31 = :h31,
           h32 = :h32,
           h33 = :h33,
           h34 = :h34,
           h35 = :h35,
           h36 = :h36,
           h37 = :h37,
           h38 = :h38,
           h39 = :h39,
           h40 = :h40,
           h41 = :h41,
           h42 = :h42,
           h43 = :h43,
           h44 = :h44,
           h45 = :h45,
           h46 = :h46,
           h47 = :h47,
           h48 = :h48,
           h49 = :h49,
           h50 = :h50,
           h51 = :h51,
           h52 = :h52,
           h53 = :h53,
           h54 = :h54,
           h55 = :h55,
           h56 = :h56,
           h57 = :h57,
           h58 = :h58,
           h59 = :h59,
           h60 = :h60
       where
           rpfmedcodi = :rpfmedcodi
    </query>
  </Sql>

  <Sql>
    <key>Delete</key>
    <query>
		delete from {0}
		where
		rpfenvcodi =  {1}
	</query>
  </Sql>

  <Sql>
    <key>GetById</key>
    <query>
       select
           rpfmedcodi,
           grupocodi,
           equicodi,
           cotidacodi,
           rpfenvcodi,
           rpfmedfecha,
           h1,
           h2,
           h3,
           h4,
           h5,
           h6,
           h7,
           h8,
           h9,
           h10,
           h11,
           h12,
           h13,
           h14,
           h15,
           h16,
           h17,
           h18,
           h19,
           h20,
           h21,
           h22,
           h23,
           h24,
           h25,
           h26,
           h27,
           h28,
           h29,
           h30,
           h31,
           h32,
           h33,
           h34,
           h35,
           h36,
           h37,
           h38,
           h39,
           h40,
           h41,
           h42,
           h43,
           h44,
           h45,
           h46,
           h47,
           h48,
           h49,
           h50,
           h51,
           h52,
           h53,
           h54,
           h55,
           h56,
           h57,
           h58,
           h59,
           h60
       from
           rpf_medicion60
       where
           rpfmedcodi = :rpfmedcodi
    </query>
  </Sql>

  <Sql>
    <key>List</key>
    <query>
       select
           rpfmedcodi,
           grupocodi,
           equicodi,
           cotidacodi,
           rpfenvcodi,
           rpfmedfecha,
           h1,
           h2,
           h3,
           h4,
           h5,
           h6,
           h7,
           h8,
           h9,
           h10,
           h11,
           h12,
           h13,
           h14,
           h15,
           h16,
           h17,
           h18,
           h19,
           h20,
           h21,
           h22,
           h23,
           h24,
           h25,
           h26,
           h27,
           h28,
           h29,
           h30,
           h31,
           h32,
           h33,
           h34,
           h35,
           h36,
           h37,
           h38,
           h39,
           h40,
           h41,
           h42,
           h43,
           h44,
           h45,
           h46,
           h47,
           h48,
           h49,
           h50,
           h51,
           h52,
           h53,
           h54,
           h55,
           h56,
           h57,
           h58,
           h59,
           h60
       from
           rpf_medicion60
    </query>
  </Sql>

  <Sql>
    <key>GetByCriteria</key>
    <query>
       select
           rpfmedcodi,
           grupocodi,
           equicodi,
           cotidacodi,
           rpfenvcodi,
           rpfmedfecha,
           h1,
           h2,
           h3,
           h4,
           h5,
           h6,
           h7,
           h8,
           h9,
           h10,
           h11,
           h12,
           h13,
           h14,
           h15,
           h16,
           h17,
           h18,
           h19,
           h20,
           h21,
           h22,
           h23,
           h24,
           h25,
           h26,
           h27,
           h28,
           h29,
           h30,
           h31,
           h32,
           h33,
           h34,
           h35,
           h36,
           h37,
           h38,
           h39,
           h40,
           h41,
           h42,
           h43,
           h44,
           h45,
           h46,
           h47,
           h48,
           h49,
           h50,
           h51,
           h52,
           h53,
           h54,
           h55,
           h56,
           h57,
           h58,
           h59,
           h60
       from
           rpf_medicion60
    </query>
  </Sql>

  <Sql>
    <key>VerificarExistenciaTabla</key>
    <query>
      SELECT COUNT(*)
      FROM USER_TABLES
      WHERE TABLE_NAME = UPPER('RPF_MEDICION60_{0}')
    </query>
  </Sql>

  <Sql>
    <key>CrearTabla</key>
    <query>
      CREATE TABLE RPF_MEDICION60_{0}
      (
      RPFMEDCODI                 NUMBER(8,0)    NOT NULL,
      GRUPOCODI                  NUMBER(5,0)    NULL,
      EQUICODI                   NUMBER(5,0)    NULL,
      COTIDACODI                 NUMBER(5,0)    NULL,
      RPFENVCODI                 NUMBER(5,0)    NULL,
      RPFMEDFECHA                DATE NULL,
      H1                         NUMBER(10,5)   NULL,
      H2                         NUMBER(10,5)   NULL,
      H3                         NUMBER(10,5)   NULL,
      H4                         NUMBER(10,5)   NULL,
      H5                         NUMBER(10,5)   NULL,
      H6                         NUMBER(10,5)   NULL,
      H7                         NUMBER(10,5)   NULL,
      H8                         NUMBER(10,5)   NULL,
      H9                         NUMBER(10,5)   NULL,
      H10                        NUMBER(10,5)   NULL,
      H11                        NUMBER(10,5)   NULL,
      H12                        NUMBER(10,5)   NULL,
      H13                        NUMBER(10,5)   NULL,
      H14                        NUMBER(10,5)   NULL,
      H15                        NUMBER(10,5)   NULL,
      H16                        NUMBER(10,5)   NULL,
      H17                        NUMBER(10,5)   NULL,
      H18                        NUMBER(10,5)   NULL,
      H19                        NUMBER(10,5)   NULL,
      H20                        NUMBER(10,5)   NULL,
      H21                        NUMBER(10,5)   NULL,
      H22                        NUMBER(10,5)   NULL,
      H23                        NUMBER(10,5)   NULL,
      H24                        NUMBER(10,5)   NULL,
      H25                        NUMBER(10,5)   NULL,
      H26                        NUMBER(10,5)   NULL,
      H27                        NUMBER(10,5)   NULL,
      H28                        NUMBER(10,5)   NULL,
      H29                        NUMBER(10,5)   NULL,
      H30                        NUMBER(10,5)   NULL,
      H31                        NUMBER(10,5)   NULL,
      H32                        NUMBER(10,5)   NULL,
      H33                        NUMBER(10,5)   NULL,
      H34                        NUMBER(10,5)   NULL,
      H35                        NUMBER(10,5)   NULL,
      H36                        NUMBER(10,5)   NULL,
      H37                        NUMBER(10,5)   NULL,
      H38                        NUMBER(10,5)   NULL,
      H39                        NUMBER(10,5)   NULL,
      H40                        NUMBER(10,5)   NULL,
      H41                        NUMBER(10,5)   NULL,
      H42                        NUMBER(10,5)   NULL,
      H43                        NUMBER(10,5)   NULL,
      H44                        NUMBER(10,5)   NULL,
      H45                        NUMBER(10,5)   NULL,
      H46                        NUMBER(10,5)   NULL,
      H47                        NUMBER(10,5)   NULL,
      H48                        NUMBER(10,5)   NULL,
      H49                        NUMBER(10,5)   NULL,
      H50                        NUMBER(10,5)   NULL,
      H51                        NUMBER(10,5)   NULL,
      H52                        NUMBER(10,5)   NULL,
      H53                        NUMBER(10,5)   NULL,
      H54                        NUMBER(10,5)   NULL,
      H55                        NUMBER(10,5)   NULL,
      H56                        NUMBER(10,5)   NULL,
      H57                        NUMBER(10,5)   NULL,
      H58                        NUMBER(10,5)   NULL,
      H59                        NUMBER(10,5)   NULL,
      H60                        NUMBER(10,5)   NULL
      
      )
    </query>
  </Sql>

  <Sql>
    <key>CrearIndex</key>
    <query>
      CREATE UNIQUE INDEX PK_RPF_MEDICION60_{0} ON RPF_MEDICION60_{0} (RPFMEDCODI ASC)
    </query>
  </Sql>

  <Sql>
    <key>CrearPKMedicion60</key>
    <query>
      ALTER TABLE RPF_MEDICION60_{0} ADD CONSTRAINT PK_RPF_MEDICION60_{0} PRIMARY KEY (RPFMEDCODI)
    </query>
  </Sql>

  <Sql>
    <key>CrearFKGrupo</key>
    <query>
      ALTER TABLE RPF_MEDICION60_{0}
      ADD (CONSTRAINT FK_RPFMED_GRUPO_{0} FOREIGN KEY (GRUPOCODI) REFERENCES PR_GRUPO (GRUPOCODI))
    </query>
  </Sql>

  <Sql>
    <key>CrearFKEquipo</key>
    <query>
      ALTER TABLE RPF_MEDICION60_{0}
      ADD (CONSTRAINT FK_RPFMED_EQUI_{0} FOREIGN KEY (EQUICODI) REFERENCES EQ_EQUIPO (EQUICODI))
    </query>
  </Sql>

  <Sql>
    <key>CrearFKTipoDato</key>
    <query>
      ALTER TABLE RPF_MEDICION60_{0}
      ADD (CONSTRAINT FK_RPFMED_COTIDA_{0} FOREIGN KEY (COTIDACODI) REFERENCES CO_TIPO_DATO (COTIDACODI))
    </query>
  </Sql>

  <Sql>
    <key>CrearFKEnvio</key>
    <query>
      ALTER TABLE RPF_MEDICION60_{0}
      ADD (CONSTRAINT FK_RPFMED_RPFENV_{0} FOREIGN KEY (RPFENVCODI) REFERENCES RPF_ENVIO (RPFENVCODI))
    </query>
  </Sql>

  <Sql>
    <key>GetInformacionAGC</key>
    <query>
      SELECT * FROM rpf_medicion60_{0}
      WHERE (TRUNC (rpfmedfecha) = TO_DATE('{1}','DD-MM-YYYY'))
      AND ('{2}'='-1' OR grupocodi IN ({2}))
      AND ('{3}'='-1' OR equicodi IN ({3}))
      AND ('{4}'='-1' OR cotidacodi IN ({4}))
    </query>
  </Sql>
  
	<Sql>
		<key>ObtenerConsulta</key>
		<query>
			select * from {5} med 
			where
			med.grupocodi = {0} and med.equicodi = {1} and med.cotidacodi = {2} and
			(med.rpfmedfecha >= to_date('{3}', 'YYYY-MM-DD HH24:MI') and med.rpfmedfecha &lt;= to_date('{4}', 'YYYY-MM-DD HH24:MI'))
			order by med.rpfmedfecha asc
		</query>
	</Sql>

	<Sql>
		<key>ObtenerMaxId</key>
		<query>
			select nvl(max(rpfmedcodi), 0) + 1 from {0}		</query>
	</Sql>

	<Sql>
		<key>ObtenerReporteCumplimiento</key>
		<query>
			select * from {2} where trunc(rpfmedfecha) = to_date('{0}', 'YYYY-MM-DD') and grupocodi in ({1})
		</query>
	</Sql>

</Sqls>
