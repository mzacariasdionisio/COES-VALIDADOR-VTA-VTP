@model  COES.MVC.Intranet.Areas.Monitoreo.Models.IndicadorModel

@{
    ViewBag.Title = "Transgresión de las Bandas de Tolerancia del Osinergmin";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<link href="~/Content/Css/multiselect.css" rel="stylesheet" />
<script src="~/Content/Scripts/multiselect.js"></script>
<script src="~/Content/Scripts/jquery.easytabs.min.js"></script>
<link href="~/Content/Css/tabs.css" rel="stylesheet" />
<script src="~/Content/Scripts/fixedcolumn.js?v=1.2"></script>

<script src="~/Areas/Monitoreo/Content/Scripts/bandaToleranciaPorcentajeError.js?v=1.4.6"></script>
<link href="~/Areas/Monitoreo/Content/Css/css.css?v=1.5" rel="stylesheet" />

<style>
    .tbform-label {
        text-align: right;
    }

    #tab-container img {
        width: 10px;
    }
</style>

<div class="form-title">
    <div class="content-titulo">Transgresión de las Bandas de Tolerancia del Osinergmin</div>
    <div class="content-botonera">
    </div>
</div>

<div class="content-hijo" id="mainLayout">

    <div id="tab-container" class='tab-container'>

        <ul class='etabs'>
            <li class='tab'><a href="#IMME-1">IMME-1</a></li>
            <li class='tab'><a href="#IMME-2">IMME-2</a></li>
            <li class='tab'><a href="#IMME-3">IMME-3</a></li>
            <li class='tab'><a href="#IMME-4">IMME-4</a></li>
            <li class='tab'><a href="#IMME-5">IMME-5</a></li>
            <li class='tab'><a href="#IMME-6">IMME-6</a></li>
            <li class='tab'><a href="#IMME-7">IMME-7</a></li>
        </ul>


        <div id="IMME-1">

            <div class="search-content">
                <table class="content-tabla-search" style="width:auto">

                    <tr>
                        <td>Fecha:</td>
                        <td>
                            <input type="text" id="txtMesIMM-1" name="txtFechaInicio" value="@Model.FechaInicio" />

                        </td>
                        <td>Empresas:</td>

                        <td>
                            <div id="divEmpresaIndicador1">
                                <select id="cbEmpresaIMM-1" name="cbEmpresa" style="width:250px;" multiple="multiple">

                                    @foreach (var item in Model.ListaEmpresas)
                                    {
                                        <option value="@item.Emprcodi">@item.Emprnomb</option>
                                    }
                                </select>
                            </div>
                        </td>
                        <td class="btn_excel_by_imm">
                            <a href="#" id="btnExportExcel1">
                                <div class="content-item-action">
                                    <img src="~/Content/Images/ExportExcel.png" style="width:20px; height:20px" title="Exportar Excel"><br>
                                </div>
                            </a>
                        </td>
                        <td>
                            <a href="#" id="btnGrabarJustif1">
                                <div class="content-item-action">
                                    <img src="~/Content/Images/Save.png" style="width:20px; height:20px" title="Grabar Justificaciones"><br>
                                </div>
                            </a>
                        </td>
                    </tr>
                </table>
            </div>

            <div class="tabla-header">
                <div class="table-paginado" id="paginado1"></div>
            </div>

            <div style="clear:both; height:5px"></div>
            <div id="listado1"></div>

        </div>

        <div id="IMME-2">

            <div class="search-content">
                <table class="content-tabla-search" style="width:auto">
                    <tr>
                        <td>Fecha:</td>
                        <td>
                            <input type="text" id="txtMesIMM-2" name="txtFechaInicio" value="@Model.FechaInicio" />

                        </td>
                        <td>Empresas:</td>

                        <td>
                            <div id="divEmpresaIndicador2">
                                <select id="cbEmpresaIMM-2" name="cbEmpresa" style="width:250px;" multiple="multiple">

                                    @foreach (var item in Model.ListaEmpresas)
                                    {
                                        <option value="@item.Emprcodi">@item.Emprnomb</option>
                                    }
                                </select>
                            </div>
                        </td>
                        <td class="btn_excel_by_imm">
                            <a href="#" id="btnExportExcel2">
                                <div class="content-item-action">
                                    <img src="~/Content/Images/ExportExcel.png" style="width:20px; height:20px" title="Exportar Excel"><br>
                                </div>
                            </a>
                        </td>
                    </tr>
                </table>
            </div>

            <div class="content-tabla">
                <div class="tabla-header">
                    <div class="table-paginado" id="paginado2"></div>
                </div>
                <div style="clear:both; height:5px"></div>
                <div class="table-list" id="listado2"></div>
            </div>
        </div>
        <div id="IMME-3">
            <div class="search-content">
                <table class="content-tabla-search" style="width:auto">
                    <tr>
                        <td>Fecha:</td>
                        <td>
                            <input type="text" id="txtMesIMM-3" name="txtFechaInicio" value="@Model.FechaInicio" />

                        </td>
                        <td>Empresas:</td>

                        <td>
                            <div id="divEmpresaIndicador3">
                                <select id="cbEmpresaIMM-3" name="cbEmpresa" style="width:250px;" multiple="multiple">

                                    @foreach (var item in Model.ListaEmpresas)
                                    {
                                        <option value="@item.Emprcodi">@item.Emprnomb</option>
                                    }
                                </select>
                            </div>
                        </td>

                        <td class="btn_excel_by_imm">
                            <a href="#" id="btnExportExcel3">
                                <div class="content-item-action">
                                    <img src="~/Content/Images/ExportExcel.png" style="width:20px; height:20px" title="Exportar Excel"><br>
                                </div>
                            </a>
                        </td>
                    </tr>
                </table>
            </div>
            <div class="content-tabla">
                <div class="tabla-header">
                    <div class="table-paginado" id="paginado3"></div>
                </div>

                <div style="clear:both; height:5px"></div>
                <div class="table-list" id="listado3"></div>
            </div>
        </div>

        <div id="IMME-4">
            <div class="search-content">
                <table class="content-tabla-search" style="width:auto">
                    <tr>
                        <td>Fecha:</td>
                        <td>
                            <input type="text" id="txtMesIMM-4" name="txtFechaInicio" value="@Model.FechaInicio" />
                        </td>
                        <td>Empresas:</td>
                        <td>
                            <div id="divEmpresaIndicador4">
                                <select id="cbEmpresaIMM-4" name="cbEmpresa" style="width:250px;" multiple="multiple">

                                    @foreach (var item in Model.ListaEmpresas)
                                    {
                                        <option value="@item.Emprcodi">@item.Emprnomb</option>
                                    }
                                </select>
                            </div>
                        </td>
                        <td class="btn_excel_by_imm">
                            <a href="#" id="btnExportExcel4">
                                <div class="content-item-action">
                                    <img src="~/Content/Images/ExportExcel.png" style="width:20px; height:20px" title="Exportar Excel"><br>
                                </div>
                            </a>
                        </td>
                        <td>
                            <a href="#" id="btnGrabarJustif4">
                                <div class="content-item-action">
                                    <img src="~/Content/Images/Save.png" style="width:20px; height:20px" title="Grabar Justificaciones"><br>
                                </div>
                            </a>
                        </td>
                    </tr>
                </table>
            </div>
            <div class="content-tabla">
                <div class="tabla-header">
                    <div class="table-paginado" id="paginado4"></div>
                </div>
                <div style="clear:both; height:5px"></div>
                <div class="table-list" id="listado4"></div>
            </div>
        </div>

        <div id="IMME-5">

            <div class="search-content">
                <table class="content-tabla-search" style="width:auto">
                    <tr>
                        <td>Fecha:</td>
                        <td>
                            <input type="text" id="txtMesIMM-5" name="txtFechaInicio" value="@Model.FechaInicio" />
                        </td>
                        <td>Empresas:</td>
                        <td>
                            <div id="divEmpresaIndicador5">
                                <select id="cbEmpresaIMM-5" name="cbEmpresa" style="width:250px;" multiple="multiple">

                                    @foreach (var item in Model.ListaEmpresas)
                                    {
                                        <option value="@item.Emprcodi">@item.Emprnomb</option>
                                    }
                                </select>
                            </div>
                        </td>

                        <td class="btn_excel_by_imm">
                            <a href="#" id="btnExportExcel5">
                                <div class="content-item-action">
                                    <img src="~/Content/Images/ExportExcel.png" style="width:20px; height:20px" title="Exportar Excel"><br>
                                </div>
                            </a>
                        </td>
                        <td>
                            <a href="#" id="btnGrabarJustif5">
                                <div class="content-item-action">
                                    <img src="~/Content/Images/Save.png" style="width:20px; height:20px" title="Grabar Justificaciones"><br>
                                </div>
                            </a>
                        </td>
                    </tr>
                </table>
            </div>
            <div class="content-tabla">
                <div class="tabla-header">
                    <div class="table-paginado" id="paginado5"></div>
                </div>
                <div style="clear:both; height:5px"></div>
                <div id="listado5"></div>
            </div>
        </div>
        <div id="IMME-6">

            <div class="search-content">
                <table class="content-tabla-search" style="width:auto">
                    <tr>
                        <td>Fecha:</td>
                        <td>
                            <input type="text" id="txtMesIMM-6" name="txtFechaInicio" value="@Model.FechaInicio" />
                        </td>
                        <td>Empresas:</td>
                        <td>
                            <div id="divEmpresaIndicador6">
                                <select id="cbEmpresaIMM-6" name="cbEmpresa" style="width:250px;" multiple="multiple">

                                    @foreach (var item in Model.ListaEmpresas)
                                    {
                                        <option value="@item.Emprcodi">@item.Emprnomb</option>
                                    }
                                </select>
                            </div>
                        </td>

                        <td class="btn_excel_by_imm">
                            <a href="#" id="btnExportExcel6">
                                <div class="content-item-action">
                                    <img src="~/Content/Images/ExportExcel.png" style="width:20px; height:20px" title="Exportar Excel"><br>
                                </div>
                            </a>
                        </td>

                        <td>
                            <a href="#" id="btnGrabarJustif6">
                                <div class="content-item-action">
                                    <img src="~/Content/Images/Save.png" style="width:20px; height:20px" title="Grabar Justificaciones"><br>
                                </div>
                            </a>
                        </td>
                    </tr>
                </table>
            </div>
            <div class="content-tabla">
                <div class="tabla-header">
                    <div class="table-paginado" id="paginado6"></div>
                </div>
                <div style="clear:both; height:5px"></div>
                <div id="listado6"></div>
            </div>
        </div>

        <div id="IMME-7">

            <div class="search-content">
                <table class="content-tabla-search" style="width:auto">
                    <tr>
                        <td>Fecha:</td>
                        <td>
                            <input type="text" id="txtMesIMM-7" name="txtFechaInicio" value="@Model.FechaInicio" />
                        </td>
                        <td>Empresas:</td>
                        <td>
                            <div id="divEmpresaIndicador7">
                                <select id="cbEmpresaIMM-7" name="cbEmpresa" style="width:250px;" multiple="multiple">

                                    @foreach (var item in Model.ListaEmpresas)
                                    {
                                        <option value="@item.Emprcodi">@item.Emprnomb</option>
                                    }
                                </select>
                            </div>
                        </td>

                        <td class="btn_excel_by_imm">
                            <a href="#" id="btnExportExcel7">
                                <div class="content-item-action">
                                    <img src="~/Content/Images/ExportExcel.png" style="width:20px; height:20px" title="Exportar Excel"><br>
                                </div>
                            </a>
                        </td>

                        <td>
                            <a href="#" id="btnGrabarJustif7">
                                <div class="content-item-action">
                                    <img src="~/Content/Images/Save.png" style="width:20px; height:20px" title="Grabar Justificaciones"><br>
                                </div>
                            </a>
                        </td>
                    </tr>
                </table>
            </div>
            <div class="content-tabla">
                <div class="tabla-header">
                    <div class="table-paginado" id="paginado7"></div>
                </div>
                <div style="clear:both; height:5px"></div>
                <div class="table-list" id="listado7"></div>
            </div>

        </div>
    </div>
</div>


<input type="hidden" id="hfFechaPeriodo" value="@Model.FechaInicio" />
<input type="hidden" id="hfDiaMesPicker" value="@Model.DiaMes" />

<div id="popupJustificacion" style="display:none" class="general-popup">
    <span class=" button b-close">        <span>X</span>    </span>
    <div class="popup-title"><span>Registro de Justificación</span></div>
    <div id="nuevaJustificacion">

        <div class='panel-container'>
            <div class="form-search">
                <input type="hidden" id="hfNuevoGrupocodi" value="" />
                <input type="hidden" id="hfNuevoBarrcodi" value="" />
                <input type="hidden" id="hfNuevoEmprcodi" value="" />
                <input type="hidden" id="hfNuevoFechaJustif" value="" />
                <input type="hidden" id="hfNuevoIndicador" value="" />

                <table style="width:100%;margin-right: auto" class="table-form-show">
                    <tr>
                        <td class="tbform-label">Empresa:</td>
                        <td class="tbform-control empresa">
                            <select id="cbEmpresaNuevo" name="cbEmpresa" style="width:250px;" disabled>

                                @foreach (var item in Model.ListaEmpresas)
                                {
                                    <option value="@item.Emprcodi">@item.Emprnomb</option>
                                }
                            </select>
                        </td>
                    </tr>

                    <tr>
                        <td class="tbform-label">Fecha Hora:</td>
                        <td class="tbform-control fecha_hora"></td>
                    </tr>

                    <tr>
                        <td class="tbform-label">Indicador:</td>
                        <td class="tbform-control">
                            <select id="cbImme" style="width: 104px;" disabled>
                                @foreach (var item in Model.ListaIndicador)
                                {
                                    <option value="@item.Immecodi">@item.Immecodigo</option>
                                }
                            </select>
                        </td>
                    </tr>

                    <tr>
                        <td class="tbform-label" style="vertical-align: top;">Justificación:</td>
                        <td class="tbform-control">
                            <textarea id="txtJustificacion" style=" width: 245px;" rows="4"></textarea>
                        </td>
                    </tr>

                </table>
            </div>
        </div>

        <div style="clear:both; width:100px; text-align:center; margin:auto; margin-top:20px">
            <input type="button" value="Guardar" id="btnGuardarJustif">
        </div>
    </div>
</div>